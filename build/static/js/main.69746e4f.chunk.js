(this["webpackJsonpsaving-throw"]=this["webpackJsonpsaving-throw"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},124:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},195:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),s=n.n(c),i=(n(120),n(121),n(72)),o=n(11),d=n(93),l=n(94),j=n(105),u=n(104),h=(n(122),n(1)),b=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)(r.a.Fragment,{children:Object(h.jsx)("div",{className:"Background",children:Object(h.jsx)("div",{className:"Title",children:"Saving Throw"})})})}}]),n}(r.a.Component),m=n(8),p=n(228),x=n(230),O=function(){var e=localStorage.getItem("username");return e?JSON.parse(e):null},f=function(){var e=localStorage.getItem("isLogged");return!!e},g=function(e,t,n,a,r){var c=t.replace('"',""),s=a.replace('"',"");localStorage.setItem("token",c),localStorage.setItem("username",JSON.stringify(n)),localStorage.setItem("isLogged",JSON.stringify(e)),localStorage.setItem("public_id",s),localStorage.setItem("fname",JSON.stringify(r))},v=function(){return localStorage.getItem("token")||null},w=function(){localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("public_id"),localStorage.removeItem("isLogged")},y=n.p+"static/media/SavingThrowLogo.6159a385.png";n(124);function S(){var e=r.a.useState(f()),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){n!=f()&&c(f())})),n?Object(h.jsxs)(p.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",children:[Object(h.jsx)(p.a.Brand,{href:"/",children:Object(h.jsx)("img",{alt:"",src:y,width:"100",height:"50",className:"d-inline-block align-top"})}),Object(h.jsx)(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(h.jsx)(p.a.Collapse,{id:"responsive-navbar-nav",children:Object(h.jsxs)(x.a,{className:"ml-auto",children:[Object(h.jsx)(x.a.Link,{href:"/profile/"+O(),children:"Profile"}),Object(h.jsx)(x.a.Link,{href:"/joinGame",children:"Join Game"}),Object(h.jsx)(x.a.Link,{href:"/",onClick:w,children:"Logout"})]})})]}):Object(h.jsxs)(p.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",children:[Object(h.jsx)(p.a.Brand,{href:"/",className:"d-flex align-content-left",children:Object(h.jsx)("img",{alt:"",src:y,width:"100",height:"50",className:"d-inline-block align-top"})}),Object(h.jsx)(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(h.jsx)(p.a.Collapse,{id:"responsive-navbar-nav",children:Object(h.jsxs)(x.a,{className:"ml-auto",children:[Object(h.jsx)(x.a.Link,{href:"/create-user",children:"Create account"}),Object(h.jsx)(x.a.Link,{href:"/login",children:"Sign in"})]})})]})}var k=n(3),N=n.n(k),C=n(10),T=n(36),L=(n(131),n(232));function F(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(m.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)([]),j=Object(m.a)(l,2),u=j[0],b=j[1];return Object(h.jsx)("div",{className:"d-flex justify-content-center ",children:Object(h.jsx)("div",{className:"minSize",children:Object(h.jsx)(L.a,{children:Object(h.jsx)(L.a.Body,{children:Object(h.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:t.first_name,lastName:t.last_name,username:t.username,email:t.email,password:t.password,description:t.description})});case 2:return n=e.sent,e.next=5,n.json();case 5:if("Success"!=(a=e.sent)){e.next=16;break}return e.next=9,fetch("api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})});case 9:return r=e.sent,e.next=12,r.json();case 12:"Success"==(c=e.sent).status&&(g(c.loggedIn,c.token,c.username,c.public_id,c.fname),window.location.href="/profile/"+a.username),e.next=17;break;case 16:b([a.error]);case 17:d(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[u?Object(h.jsx)("ul",{children:u.map((function(e){return Object(h.jsx)("li",{children:e},e)}))}):null,Object(h.jsx)("h1",{children:"Create account"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(h.jsx)("input",{type:"text",name:"first_name",id:"first_name",ref:n({required:{value:!0,message:"Type your first name."},validate:function(e){return[/[a-z]/,/[A-Z]/].every((function(t){return t.test(e)}))||"Must contain lower and upper character"}})}),c.first_name?Object(h.jsxs)("div",{children:[c.first_name.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"name",children:"Last Name"}),Object(h.jsx)("input",{type:"text",name:"last_name",id:"last_name",ref:n({required:{value:!0,message:"Type your last name."},validate:function(e){return[/[a-z]/,/[A-Z]/].every((function(t){return t.test(e)}))||"Must contain lower and upper character"}})}),c.last_name?Object(h.jsxs)("div",{children:[c.last_name.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username"}),Object(h.jsx)("input",{type:"text",name:"username",id:"username",ref:n({required:{value:!0,message:"Please enter valid username."}})}),c.username?Object(h.jsxs)("div",{children:[c.username.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",id:"email",ref:n({required:{value:!0,message:"Please enter valid email."}})}),c.email?Object(h.jsxs)("div",{children:[c.email.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{type:"password",name:"password",id:"password",ref:n({required:"required",minLength:{value:8,message:"Must be 8 characters long."},validate:function(e){return[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/].every((function(t){return t.test(e)}))||"Must contain lower, upper number, and special character"}})}),c.password?Object(h.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"description",children:"Description"}),Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{rows:5,cols:50,className:"description",name:"description",id:"description",maxLength:250,ref:n({required:{value:!1,message:"Please enter valid username."}})})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",disabled:o,children:" Create Account"})})]})})})})})}var P=n(231);n(132);function I(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(m.a)(s,2),o=(i[0],i[1]),d=Object(a.useState)(!1),l=Object(m.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)([]),p=Object(m.a)(b,2),x=(p[0],p[1]);var O=v();return Object(h.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),x([]),e.next=4,fetch("/api/create-game",{method:"POST",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(O)},body:JSON.stringify({name:t.name,description:t.description,looking_for:j,start_date:t.start_date,password:t.password,capacity:t.capacity})});case 4:return n=e.sent,e.next=7,n.json();case 7:"Success"==(a=e.sent).status?window.location.href="/charactersheet/"+a.cmid:window.location.href="/",o(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"name",children:"Campaign Name"}),Object(h.jsx)("input",{type:"text",name:"name",id:"name",ref:n({required:{value:!0,message:"Type the name of the campaign"}})}),c.name?Object(h.jsxs)("div",{children:[c.name.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"description",children:"Description"}),Object(h.jsx)("input",{type:"text",name:"description",id:"description",ref:n({required:{value:!1,message:"Please enter your campaign description"}})}),c.description?Object(h.jsxs)("div",{children:[c.description.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"looking_for",children:"Looking for new players?"}),Object(h.jsx)(P.a,{onChange:function(){u((function(e){return!e}))},value:j})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",children:"Access code? (12 characters max)"}),Object(h.jsx)("input",{type:"text",name:"password",id:"password",ref:n({required:{value:!0,message:"Please enter your campaign access code"},minLength:{value:4,message:"Must be 4 characters long."},maxLength:{value:12,message:"Must be 8 characters long."}})}),c.password?Object(h.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"capacity",children:"How many players? (8 players max)"}),Object(h.jsx)("input",{type:"number",name:"capacity",id:"capacity",min:"3",max:"8",ref:n({required:{value:!0,message:"Please enter your campaign capacity"},validate:function(e){return[/[0-9]/].every((function(t){return t.test(e)}))||"Must contain only numbers"}})}),c.capacity?Object(h.jsxs)("div",{children:[c.capacity.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"date",children:"Campaign start date"}),Object(h.jsx)("input",{type:"date",name:"start_date",id:"start_date",ref:n({required:{value:!0,message:"Please enter your campaign start date"}})}),c.start_date?Object(h.jsxs)("div",{children:[c.start_date.message," "]}):null]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:" Create Game"})})]})}n(135);function _(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(m.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)([]),j=Object(m.a)(l,2),u=j[0],b=j[1];return Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"minSize",children:Object(h.jsx)(L.a,{children:Object(h.jsx)(L.a.Body,{children:Object(h.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),b([]),e.next=4,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})});case 4:return n=e.sent,e.next=7,n.json();case 7:"Success"==(a=e.sent).status?(g(a.loggedIn,a.token,a.username,a.public_id,a.fname),window.location.href="/profile/"+a.username):b([a.error]),d(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[u?Object(h.jsx)("ul",{children:u.map((function(e){return Object(h.jsx)("li",{children:e},e)}))}):null,Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsx)("label",{htmlFor:"username",children:" Username"}),Object(h.jsx)("input",{type:"text",name:"username",id:"username",ref:n({required:{value:!0,message:"Please enter valid username."}})}),c.username?Object(h.jsxs)("div",{children:[c.username.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",children:" Password"}),Object(h.jsx)("input",{type:"password",name:"password",id:"password",ref:n({required:"required"})}),c.password?Object(h.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",disabled:o,children:" Login "})})]})})})})})}var A=n(16);n(136);function E(e){var t=e.data,n=e.addList,a=["name","effect","description","damage"];return Object(h.jsxs)("table",{className:"table-border",cellPadding:1,cellSpacing:1,children:[Object(h.jsx)("thead",{className:"table-border",children:Object(h.jsx)("tr",{children:t[0]&&a.map((function(e){return Object(h.jsx)("th",{className:"table-border",children:e})}))})}),Object(h.jsx)("tbody",{className:"table-border",children:t.map((function(e){return Object(h.jsx)("tr",{onClick:function(){return n(e)},className:"table-border",children:a.map((function(t){return Object(h.jsx)("td",{className:"table-border",children:e[t]})}))})}))})]})}var J=n(101),q=n.n(J);function M(e){var t=e.addInventoryList,n=Object(a.useState)([]),r=Object(m.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)([]),o=Object(m.a)(i,2),d=(o[0],o[1],Object(a.useState)(!0)),l=Object(m.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),p=Object(m.a)(b,2),x=p[0],O=p[1],f=Object(a.useState)(["name","effect"]),g=Object(m.a)(f,2),v=g[0],w=g[1],y=Object(a.useState)(["name","effect","description","damage"]),S=Object(m.a)(y,2),k=S[0];S[1];Object(a.useEffect)((function(){fetch("/api/itemSearch").then((function(e){return e.json()})).then((function(e){return s(e)})),u(!1)}),[]);var N;return j?(console.log("inside loading"),Object(h.jsx)(q.a,{type:"Circles",color:"#00BFFF",height:60,width:80})):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"text",placeholder:"Search for item",value:x,onChange:function(e){return O(e.target.value)}}),k&&k.map((function(e){return Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:v.includes(e),onChange:function(t){var n=v.includes(e);w((function(t){return n?t.filter((function(t){return t!==e})):[].concat(Object(A.a)(t),[e])}))}}),e]})}))]}),Object(h.jsx)("div",{children:Object(h.jsx)(E,{data:(N=c,N.filter((function(e){return v.some((function(t){return e[t].toString().toLowerCase().indexOf(x.toLowerCase())>-1}))}))),addList:function(e){t(e)}})})]})}function R(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),r=(n[0],n[1]),c=Object(a.useState)(!1),s=Object(m.a)(c,2),i=(s[0],s[1],Object(a.useState)([])),d=Object(m.a)(i,2),l=d[0],j=d[1],u=Object(o.h)().cmid,b=[],p=new FormData,x=v(),f=O();function g(){return(g=Object(C.a)(N.a.mark((function e(){var t,n,a,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),j([]),e.next=4,fetch("/api/create-charactersheet",{method:"POST",headers:{"x-Access-Token":"".concat(x)},body:p});case 4:return t=e.sent,e.next=7,t.json();case 7:if("Success"!=(n=e.sent).status){e.next=20;break}return a={csid:n.csid,cmid:parseInt(u),inventoryList:b},c={method:"POST",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(x)},body:JSON.stringify(a)},e.next=13,fetch("/api/create-character",c);case 13:return s=e.sent,e.next=16,s.json();case 16:"Success"==e.sent.status&&(window.location.href="/profile/"+f),e.next=21;break;case 20:j([n.error]);case 21:r(!1);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsx)(L.a,{children:Object(h.jsx)("div",{className:"d-flex justify-content-center ",children:Object(h.jsxs)("div",{className:"d-flex flex-column",children:[Object(h.jsx)(L.a,{children:Object(h.jsxs)(L.a.Body,{children:[Object(h.jsx)("h3",{children:"Items list: "}),Object(h.jsx)(M,{addInventoryList:function(e){b.push(e)}})]})}),Object(h.jsxs)("div",{children:[l?Object(h.jsx)("ul",{children:l.map((function(e){return Object(h.jsx)("li",{children:e},e)}))}):null,Object(h.jsxs)("div",{children:[Object(h.jsx)(L.a,{children:Object(h.jsx)(L.a.Body,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"Upload character sheet: "}),Object(h.jsx)("input",{onChange:function(e){var t=e.target.files[0];p.append("characterSheet",t)},type:"file",name:"file"})]})})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",onClick:function(){return g.apply(this,arguments)},children:"Submit"})})]})]})]})})})})}var B=n(102),D=n(220);n(188);function G(e){var t=e.setMessage,n=e.sendMessage,a=e.message,r=e.leaveRoom,c=Object(o.h)();c.room,c.code;return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"chat-form",children:[Object(h.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:a,onChange:function(e){var n=e.target.value;return t(n)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),Object(h.jsx)(D.a,{variant:"contained",onClick:function(e){return n(e)},children:"Send"}),Object(h.jsx)(D.a,{variant:"contained",onClick:Object(C.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),children:"Leave Chat"})]})})}n(189);var U,z,Z=function(e){var t=e.border,n=e.color,a=e.children,r=e.height,c=e.onClick,s=e.radius,i=e.width;return Object(h.jsx)("button",{onClick:c,style:{backgroundColor:n,border:t,borderRadius:s,height:r,width:i},children:a})},H="https://saving-throw.herokuapp.com/";function K(e){Object(o.g)();var t=Object(o.h)(),n=t.room,c=t.code,s=Object(a.useState)(""),i=Object(m.a)(s,2),d=i[0],l=i[1],j=Object(a.useState)([]),u=Object(m.a)(j,2),b=u[0],p=u[1],x=Object(a.useState)(!1),f=Object(m.a)(x,2),g=(f[0],f[1],O()),y=r.a.useRef(null),S=b,k=v();Object(a.useEffect)((function(){z=!1,function(){L.apply(this,arguments)}()}),[H]),Object(a.useEffect)((function(){z&&(U.on("close",(function(){window.location.href="/profile/"+g})),U.on("message",(function(e){T(e),"Close Room."===e&&F()})),b&&y.current&&y.current.scrollIntoView({behavior:"smooth"}))}),[]);function T(e){S=S.concat(e),p(S)}function L(){return(L=Object(C.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/check-room",{method:"PUT",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(k)},body:JSON.stringify({room:Number(n),code:c})});case 2:return t=e.sent,e.next=5,t.json();case 5:"Success"==(a=e.sent).status&&(z=!0,(U=Object(B.io)(H)).emit("join",{name:g,room:Number(n)}),U.on("message",(function(e){T(e),"Close Room."===e&&F()}))),"Room does not exist"==a.error&&(window.location.href="/profile/"+g),"Token is invalid!"==a.status&&(w(),window.location.href="/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return P.apply(this,arguments)}function P(){return(P=Object(C.a)(N.a.mark((function e(){var t,a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/leave-room",{method:"PUT",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(k)},body:JSON.stringify({room:Number(n),code:c})});case 2:return t=e.sent,e.next=5,t.json();case 5:if("Token is invalid!"==(a=e.sent).status&&(w(),window.location.href="/"),!a.error){e.next=12;break}U.emit("close",{name:g,room:a.room}),window.location.href="/profile/"+g,e.next=21;break;case 12:if(U.emit("leave",{name:g,room:Number(n),message:a.message}),"Host is leaving"!==a.status&&"Room is empty"!==a.status){e.next=21;break}return U.emit("close",{name:g,room:a.room}),e.next=17,fetch("/api/delete-room",{method:"DELETE",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(k)},body:JSON.stringify({room:Number(n)})});case 17:return r=e.sent,e.next=20,r.json();case 20:e.sent;case 21:window.location.href="/profile/"+g;case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t,a=(t=e,Math.floor(Math.random()*t)+1);U.emit("message",{name:g,room:Number(n),message:"Rolled d"+e+": "+a},(function(){return l("")}))}return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"title",children:"Campaign"}),Object(h.jsxs)("h3",{className:"room",children:["Room: ",n," Code: ",c]}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("div",{className:"box-row",children:Object(h.jsx)(Z,{border:"default",color:"#fdffc4",height:"15vh",onClick:function(){I(20)},radius:"10%",width:"30vw",children:"d20"})}),Object(h.jsxs)("div",{className:"box-row",children:[Object(h.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){I(4)},radius:"10%",width:"10vw",children:"d4"}),Object(h.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){I(6)},radius:"10%",width:"10vw",children:"d6"}),Object(h.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){I(8)},radius:"10%",width:"10vw",children:"d8"})]}),Object(h.jsxs)("div",{className:"box-row",children:[Object(h.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){I(10)},radius:"10%",width:"10vw",children:"d10"}),Object(h.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){I(12)},radius:"10%",width:"10vw",children:"d12"}),Object(h.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){I(100)},radius:"10%",width:"10vw",children:"d100"})]})]})}),Object(h.jsxs)("div",{className:"Chat",children:[Object(h.jsx)("div",{className:"fields",ref:y,children:b.map((function(e){return Object(h.jsx)("div",{children:e})}))}),Object(h.jsx)(G,{message:d,setMessage:l,sendMessage:function(e){e.preventDefault(),d&&U.emit("message",{name:g,room:Number(n),message:d},(function(){return l("")}))},leaveRoom:F})]})]})}var V=n(21),W=(n(190),n(221)),Q=n(236),X=n(222),Y=n(199),$=n(224),ee=n(223),te=n(7),ne=n(225),ae=n(226),re=n(227),ce=n(233),se=n(219),ie=n(64),oe=n(103),de=n.n(oe),le=n(229),je=Object(W.a)((function(e){return Object(Q.a)({container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)},root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},cardroot:{maxWidth:"auto",margin:"auto"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},box:{height:50,display:"flex",padding:8,justifyContent:"flex-end",alignItems:"flex-end"}})}));function ue(e){var t=v(),n=je(),c=r.a.useState(-1),s=Object(m.a)(c,2),i=s[0],d=s[1],l=r.a.useState(-1),j=Object(m.a)(l,2),u=(j[0],j[1],r.a.useState({data:{username:"",uid:0,public_id:0,fname:"",lname:"",description:""},rendered:!1})),b=Object(m.a)(u,2),p=b[0],x=b[1],f=r.a.useState([]),g=Object(m.a)(f,2),y=g[0],S=g[1],k=Object(o.h)().username;function T(){return(T=Object(C.a)(N.a.mark((function e(){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{method:"GET",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)}});case 2:return n=e.sent,e.next=5,n.json();case 5:"Token is invalid!"==(a=e.sent).status?(w(),window.location.href="/"):(a.username!=k&&(window.location.href="/profile/"+a.username),x({data:{username:a.username,uid:a.uid,public_id:a.publicId,fname:a.fname,lname:a.lname,description:a.description},rendered:!0}),console.log(p));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(C.a)(N.a.mark((function e(){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/getgames",{method:"GET",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)}});case 2:return n=e.sent,e.next=5,n.json();case 5:"Token is invalid!"==(a=e.sent).status&&(w(),window.location.href="/"),"Success"==a.status&&S(a.games);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(C.a)(N.a.mark((function e(n,a){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return e.next=4,fetch("/api/create-room",{method:"POST",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)},body:JSON.stringify({rpassword:a,cmid:n})});case 4:return r=e.sent,e.next=7,r.json();case 7:"Success"==(c=e.sent).status&&(window.location.href="/gamePage/room="+c.room+"&code="+c.password),"Token is invalid!"==c.status&&(w(),window.location.href="/");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return I.apply(this,arguments)}function I(){return(I=Object(C.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/delete-room",{method:"DELETE",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)}});case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(C.a)(N.a.mark((function e(n,a){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/delete-game",{method:"DELETE",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)},body:JSON.stringify({rpassword:a,cmid:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:c=e.sent,console.log(c),"Token is invalid!"==c.status&&w(),"Success"==c.status&&(window.location.href="/profile/"+O());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){p.rendered||function(){T.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){!function(){L.apply(this,arguments)}()}),[]);return 0==y.length?Object(h.jsxs)("div",{className:n.root,children:[Object(h.jsx)(X.a,{variant:"h4",gutterBottom:!0,children:p.data.fname}),Object(h.jsxs)(ee.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:[Object(h.jsx)(ee.a,{item:!0,xs:4,children:Object(h.jsxs)(Y.a,{className:n.paper,children:["Games",Object(h.jsx)(ee.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(h.jsxs)(ee.a,{item:!0,xs:!0,children:[Object(h.jsx)(X.a,{component:"span",children:"No Games"}),Object(h.jsx)(le.a,{component:"span",m:1,className:n.box,children:Object(h.jsx)(D.a,{variant:"contained",color:"secondary",style:{borderRadius:20},href:"/create-game",children:"Add"})})]})})]})}),Object(h.jsx)(ee.a,{item:!0,xs:4,children:Object(h.jsxs)(Y.a,{className:n.paper,children:["Friends",Object(h.jsx)(ee.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(h.jsx)(ee.a,{item:!0,xs:!0,children:Object(h.jsx)(X.a,{component:"span",children:"No Friends"})})})]})}),Object(h.jsx)(ee.a,{item:!0,xs:4,children:Object(h.jsxs)(ee.a,{container:!0,children:[Object(h.jsx)(ee.a,{item:!0,xs:12,children:Object(h.jsxs)(Y.a,{className:n.paper,children:[Object(h.jsx)("h6",{children:"User Description"}),Object(h.jsx)("p",{children:p.data.description})]})}),Object(h.jsx)(ee.a,{item:!0,xs:12,children:Object(h.jsx)(Y.a,{className:n.paper,children:"Character List"})})]})})]}),Object(h.jsx)($.a,{className:n.divider})]}):Object(h.jsxs)("div",{className:n.root,children:[Object(h.jsx)(X.a,{variant:"h4",gutterBottom:!0,children:p.data.fname}),Object(h.jsxs)(ee.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:[Object(h.jsx)(ee.a,{item:!0,xs:4,children:Object(h.jsxs)(Y.a,{className:n.paper,children:["Games",Object(h.jsx)(ee.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(h.jsx)(ee.a,{item:!0,xs:!0,children:Object(h.jsxs)(X.a,{component:"span",children:[y.map((function(e,t){return Object(h.jsxs)(ne.a,{className:n.cardroot,children:[e.cname,Object(h.jsx)(ae.a,{}),Object(h.jsx)(re.a,{disableSpacing:!0,children:Object(h.jsx)(se.a,{className:Object(te.a)(n.expand,Object(V.a)({},n.expandOpen,i)),onClick:function(){return function(e){d(i===e?-1:e)}(t)},"aria-expanded":i===t,"aria-label":"show more",children:Object(h.jsx)(de.a,{})})}),Object(h.jsx)(ce.a,{in:i===t,timeout:"auto",unmountOnExit:!0,children:Object(h.jsxs)(ae.a,{children:[Object(h.jsx)(X.a,{paragraph:!0,children:"Description:"}),Object(h.jsx)(X.a,{paragraph:!0,children:e.cdescription}),Object(h.jsx)(X.a,{children:"Entry Code"}),Object(h.jsx)(X.a,{children:e.password}),Object(h.jsxs)(le.a,{component:"span",m:1,className:n.box,children:[Object(h.jsx)(D.a,{variant:"contained",color:"secondary",style:{borderRadius:20},onClick:function(){!function(e,t){F.apply(this,arguments)}(e.cmid,e.password)},children:"Play"}),Object(h.jsx)(D.a,{variant:"contained",color:"secondary",style:{borderRadius:20},onClick:function(){!function(e,t){_.apply(this,arguments)}(e.cmid,e.password)},children:"Delete"})]})]})})]},e.cmid)})),Object(h.jsx)(le.a,{component:"span",m:1,className:n.box,children:Object(h.jsx)(D.a,{variant:"contained",color:"secondary",style:{borderRadius:20},href:"/create-game",children:"Add"})})]})})})]})}),Object(h.jsx)(ee.a,{item:!0,xs:4,children:Object(h.jsxs)(Y.a,{className:n.paper,children:["Friends",Object(h.jsx)(ee.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(h.jsx)(ee.a,{item:!0,xs:!0,children:Object(h.jsx)(X.a,{component:"span",children:"No Friends to display"})})})]})}),Object(h.jsx)(ee.a,{item:!0,xs:4,children:Object(h.jsxs)(ee.a,{container:!0,children:[Object(h.jsx)(ee.a,{item:!0,xs:12,children:Object(h.jsxs)(Y.a,{className:n.paper,children:[Object(h.jsx)("h6",{children:"User Description"}),Object(h.jsx)("p",{children:p.data.description})]})}),Object(h.jsx)(ee.a,{item:!0,xs:12,children:Object(h.jsx)(Y.a,{className:n.paper,children:"Character List"})})]})})]}),Object(h.jsx)($.a,{className:n.divider})]})}n(195);function he(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(m.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)([]),j=Object(m.a)(l,2),u=j[0],b=j[1],p=v();return Object(h.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),b([]),e.next=4,fetch("api/get-character",{method:"PUT",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(p)},body:JSON.stringify({room:t.room,password:t.password})});case 4:return n=e.sent,e.next=7,n.json();case 7:if("Does not exist"==(a=e.sent).status&&(window.location.href="/charactersheet/"+a.cmid),"Character exists"!=a.status){e.next=17;break}return e.next=12,fetch("api/join-room",{method:"PUT",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(p)},body:JSON.stringify({room:t.room,password:t.password})});case 12:return r=e.sent,e.next=15,r.json();case 15:"Success"==(c=e.sent).status?window.location.href="/gamePage/room="+c.room+"&code="+c.password:b([a.error]);case 17:"Token is invalid!"==a.status?window.location.href="/":b([a.error]),d(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[u?Object(h.jsx)("ul",{children:u.map((function(e){return Object(h.jsx)("li",{children:e},e)}))}):null,Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"name",children:"Room Number"}),Object(h.jsx)("input",{type:"text",name:"room",id:"room",ref:n({required:"required",minLength:{value:4,message:"Must be 4 character long"},maxLength:{value:4,message:"Must be 4 character long"},validate:function(e){return[/[0-9]/].every((function(t){return t.test(e)}))||"Must contain only numbers"}})}),c.room?Object(h.jsxs)("div",{children:[c.room.message," "]}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{type:"password",name:"password",id:"password",ref:n({required:"required",minLength:{value:4,message:"Must be 4 characters long."}})}),c.password?Object(h.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",disabled:o,children:" Join"})})]})}var be=function(){return Object(h.jsxs)(r.a.Fragment,{children:[Object(h.jsx)(S,{}),Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{exact:!0,path:"/",component:b}),Object(h.jsx)(o.b,{exact:!0,path:"/create-user",component:F}),Object(h.jsx)(o.b,{exact:!0,path:"/create-game",render:function(e){return!1!==f()?Object(h.jsx)(I,{}):Object(h.jsx)(o.a,{to:{pathname:"/Login"}})}}),Object(h.jsx)(o.b,{exact:!0,path:"/login",component:_}),Object(h.jsx)(o.b,{exact:!0,path:"/profile/:username",component:ue}),Object(h.jsx)(o.b,{exact:!0,path:"/charactersheet/:cmid",render:function(e){return!1!==f()?Object(h.jsx)(R,{}):Object(h.jsx)(o.a,{to:{pathname:"/Login"}})}}),Object(h.jsx)(o.b,{exact:!0,path:"/gamePage/room=:room&code=:code",component:K}),Object(h.jsx)(o.b,{exact:!0,path:"/joinGame",render:function(e){return!1!==f()?Object(h.jsx)(he,{}):Object(h.jsx)(o.a,{to:{pathname:"/Login"}})}}),Object(h.jsx)(o.a,{to:"/"})]})})]})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,237)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(196);s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(be,{})}),document.getElementById("root")),me()}},[[197,1,2]]]);
//# sourceMappingURL=main.69746e4f.chunk.js.map