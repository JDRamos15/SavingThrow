(this["webpackJsonpsaving-throw"]=this["webpackJsonpsaving-throw"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},124:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},185:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},195:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),s=n.n(c),i=(n(120),n(121),n(71)),o=n(11),d=n(94),l=n(95),j=n(105),u=n(104),b=(n(122),n(1)),m=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)(r.a.Fragment,{children:Object(b.jsx)("div",{className:"Background",children:Object(b.jsx)("div",{className:"Title",children:"Saving Throw"})})})}}]),n}(r.a.Component),h=n(8),p=n(228),x=n(230),f=function(){var e=localStorage.getItem("username");return e?JSON.parse(e):null},O=function(){var e=localStorage.getItem("isLogged");return!!e},g=function(e,t,n,a,r){var c=t.replace('"',""),s=a.replace('"',"");localStorage.setItem("token",c),localStorage.setItem("username",JSON.stringify(n)),localStorage.setItem("isLogged",JSON.stringify(e)),localStorage.setItem("public_id",s),localStorage.setItem("fname",JSON.stringify(r))},v=function(){return localStorage.getItem("token")||null},w=function(){localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("public_id"),localStorage.removeItem("isLogged")},y=n.p+"static/media/SavingThrowLogo.6159a385.png";n(124);function S(){var e=r.a.useState(O()),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){console.log("here"),n!=O()&&c(O())})),n?Object(b.jsxs)(p.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(b.jsxs)(p.a.Brand,{href:"/",className:"navbar",children:[Object(b.jsx)("img",{alt:"",src:y,width:"30",height:"30",className:"d-inline-block align-top"})," ","Saving Throw"]}),Object(b.jsx)(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(b.jsx)(p.a.Collapse,{id:"responsive-navbar-nav",children:Object(b.jsxs)(x.a,{className:"ml-auto",children:[Object(b.jsx)(x.a.Link,{href:"/profile/"+f(),children:"Profile"}),Object(b.jsx)(x.a.Link,{href:"/joinGame",children:"Join Game"}),Object(b.jsx)(x.a.Link,{href:"/",onClick:w,children:"Logout"})]})})]}):Object(b.jsxs)(p.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",children:[Object(b.jsx)(p.a.Brand,{href:"/",className:"d-flex align-content-left",children:Object(b.jsx)("img",{alt:"",src:y,width:"100",height:"50",className:"d-inline-block align-top"})}),Object(b.jsx)(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(b.jsx)(p.a.Collapse,{id:"responsive-navbar-nav",children:Object(b.jsxs)(x.a,{className:"ml-auto",children:[Object(b.jsx)(x.a.Link,{href:"/create-user",children:"Create account"}),Object(b.jsx)(x.a.Link,{href:"/login",children:"Sign in"})]})})]})}var k=n(4),N=n.n(k),C=n(10),T=n(28),L=(n(131),n(232));function F(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(h.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)([]),j=Object(h.a)(l,2),u=j[0],m=j[1];return Object(b.jsx)("div",{className:"d-flex justify-content-center ",children:Object(b.jsx)("div",{children:Object(b.jsx)(L.a,{bg:"info",style:{width:"20vw",height:"60vh",paddingTop:"3vh"},children:Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)(L.a,{children:Object(b.jsx)(L.a.Body,{children:Object(b.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:t.first_name,lastName:t.last_name,username:t.username,email:t.email,password:t.password})});case 2:return n=e.sent,e.next=5,n.json();case 5:if("Success"!=(a=e.sent)){e.next=16;break}return e.next=9,fetch("api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})});case 9:return r=e.sent,e.next=12,r.json();case 12:"Success"==(c=e.sent).status&&(g(c.loggedIn,c.token,c.username,c.public_id,c.fname),window.location.href="/profile/"+a.username),e.next=17;break;case 16:m([a.error]);case 17:d(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[u?Object(b.jsx)("ul",{children:u.map((function(e){return Object(b.jsx)("li",{children:e},e)}))}):null,Object(b.jsx)("h1",{children:"Create account"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(b.jsx)("input",{type:"text",name:"first_name",id:"first_name",ref:n({required:{value:!0,message:"Type your first name."},validate:function(e){return[/[a-z]/,/[A-Z]/].every((function(t){return t.test(e)}))||"Must contain lower and upper character"}})}),c.first_name?Object(b.jsxs)("div",{children:[c.first_name.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"name",children:"Last Name"}),Object(b.jsx)("input",{type:"text",name:"last_name",id:"last_name",ref:n({required:{value:!0,message:"Type your last name."},validate:function(e){return[/[a-z]/,/[A-Z]/].every((function(t){return t.test(e)}))||"Must contain lower and upper character"}})}),c.last_name?Object(b.jsxs)("div",{children:[c.last_name.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"username",children:"Username"}),Object(b.jsx)("input",{type:"text",name:"username",id:"username",ref:n({required:{value:!0,message:"Please enter valid username."}})}),c.username?Object(b.jsxs)("div",{children:[c.username.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",name:"email",id:"email",ref:n({required:{value:!0,message:"Please enter valid email."}})}),c.email?Object(b.jsxs)("div",{children:[c.email.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",id:"password",ref:n({required:"required",minLength:{value:8,message:"Must be 8 characters long."},validate:function(e){return[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/].every((function(t){return t.test(e)}))||"Must contain lower, upper number, and special character"}})}),c.password?Object(b.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",disabled:o,children:" Create Account"})})]})})})})})})})}var P=n(231);n(132);function _(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(h.a)(s,2),o=(i[0],i[1]),d=Object(a.useState)(!1),l=Object(h.a)(d,2),j=l[0],u=l[1],m=Object(a.useState)([]),p=Object(h.a)(m,2),x=(p[0],p[1]);var f=v();return Object(b.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),x([]),e.next=4,fetch("/api/create-game",{method:"POST",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(f)},body:JSON.stringify({name:t.name,description:t.description,looking_for:j,start_date:t.start_date,password:t.password,capacity:t.capacity})});case 4:return n=e.sent,e.next=7,n.json();case 7:"Token is invalid!"==(a=e.sent).status&&(w(),window.location.href="/"),"Success"==a.status?window.location.href="/profile/"+a.username:window.location.href="/",o(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"name",children:"Campaign Name"}),Object(b.jsx)("input",{type:"text",name:"name",id:"name",ref:n({required:{value:!0,message:"Type the name of the campaign"}})}),c.name?Object(b.jsxs)("div",{children:[c.name.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"description",children:"Description"}),Object(b.jsx)("input",{type:"text",name:"description",id:"description",ref:n({required:{value:!1,message:"Please enter your campaign description"}})}),c.description?Object(b.jsxs)("div",{children:[c.description.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"looking_for",children:"Looking for new players?"}),Object(b.jsx)(P.a,{onChange:function(){u((function(e){return!e}))},value:j})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"password",children:"Access code? (12 characters max)"}),Object(b.jsx)("input",{type:"text",name:"password",id:"password",ref:n({required:{value:!0,message:"Please enter your campaign access code"},minLength:{value:4,message:"Must be 4 characters long."},maxLength:{value:12,message:"Must be 8 characters long."}})}),c.password?Object(b.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"capacity",children:"How many players? (8 players max)"}),Object(b.jsx)("input",{type:"number",name:"capacity",id:"capacity",min:"3",max:"8",ref:n({required:{value:!0,message:"Please enter your campaign capacity"},validate:function(e){return[/[0-9]/].every((function(t){return t.test(e)}))||"Must contain only numbers"}})}),c.capacity?Object(b.jsxs)("div",{children:[c.capacity.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"date",children:"Campaign start date"}),Object(b.jsx)("input",{type:"date",name:"start_date",id:"start_date",ref:n({required:{value:!0,message:"Please enter your campaign start date"}})}),c.start_date?Object(b.jsxs)("div",{children:[c.start_date.message," "]}):null]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:" Create Game"})})]})}n(135);function A(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(h.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)([]),j=Object(h.a)(l,2),u=j[0],m=j[1];return Object(b.jsx)("div",{className:"d-flex justify-content-center ",children:Object(b.jsx)("div",{children:Object(b.jsx)(L.a,{bg:"info",style:{width:"20vw",height:"38vh",paddingTop:"3vh"},children:Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)(L.a,{children:Object(b.jsx)(L.a.Body,{children:Object(b.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),m([]),e.next=4,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})});case 4:return n=e.sent,e.next=7,n.json();case 7:"Success"==(a=e.sent).status?(g(a.loggedIn,a.token,a.username,a.public_id,a.fname),window.location.href="/profile/"+a.username):m([a.error]),d(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[u?Object(b.jsx)("ul",{children:u.map((function(e){return Object(b.jsx)("li",{children:e},e)}))}):null,Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)("label",{htmlFor:"username",children:" Username"}),Object(b.jsx)("input",{type:"text",name:"username",id:"username",ref:n({required:{value:!0,message:"Please enter valid username."}})}),c.username?Object(b.jsxs)("div",{children:[c.username.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"password",children:" Password"}),Object(b.jsx)("input",{type:"text",name:"password",id:"password",ref:n({required:"required"})}),c.password?Object(b.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",disabled:o,children:" Login "})})]})})})})})})})}var I=n(16);n(136);function E(e){var t=e.data,n=e.addList,a=["name","effect","description","damage"];return Object(b.jsxs)("table",{className:"table-border",cellPadding:1,cellSpacing:1,children:[Object(b.jsx)("thead",{className:"table-border",children:Object(b.jsx)("tr",{children:t[0]&&a.map((function(e){return Object(b.jsx)("th",{className:"table-border",children:e})}))})}),Object(b.jsx)("tbody",{className:"table-border",children:t.map((function(e){return Object(b.jsx)("tr",{onClick:function(){return n(e)},className:"table-border",children:a.map((function(t){return Object(b.jsx)("td",{className:"table-border",children:e[t]})}))})}))})]})}var J=n(102),M=n.n(J);function q(e){var t=e.addInventoryList,n=Object(a.useState)([]),r=Object(h.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)([]),o=Object(h.a)(i,2),d=(o[0],o[1],Object(a.useState)(!0)),l=Object(h.a)(d,2),j=l[0],u=l[1],m=Object(a.useState)(""),p=Object(h.a)(m,2),x=p[0],f=p[1],O=Object(a.useState)(["name","effect"]),g=Object(h.a)(O,2),v=g[0],w=g[1],y=Object(a.useState)(["name","effect","description","damage"]),S=Object(h.a)(y,2),k=S[0];S[1];Object(a.useEffect)((function(){fetch("/api/itemSearch").then((function(e){return e.json()})).then((function(e){return s(e)})),u(!1)}),[]);var N;return j?(console.log("inside loading"),Object(b.jsx)(M.a,{type:"Circles",color:"#00BFFF",height:60,width:80})):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",value:x,onChange:function(e){return f(e.target.value)}}),k&&k.map((function(e){return Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:v.includes(e),onChange:function(t){console.log(k);var n=v.includes(e);w((function(t){return n?t.filter((function(t){return t!==e})):[].concat(Object(I.a)(t),[e])}))}}),e]})}))]}),Object(b.jsx)("div",{children:Object(b.jsx)(E,{data:(N=c,N.filter((function(e){return v.some((function(t){return e[t].toString().toLowerCase().indexOf(x.toLowerCase())>-1}))}))),addList:function(e){t(e)}})})]})}function R(e){var t=Object(T.a)(),n=t.register,r=t.handleSubmit,c=(t.errors,Object(a.useState)(!1)),s=Object(h.a)(c,2),i=(s[0],s[1]),o=Object(a.useState)([]),d=Object(h.a)(o,2),l=d[0],j=d[1],u=[];return Object(b.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),j([]),n=new FormData,a=v(),n.append("characterSheet",t.file[0]),e.next=7,fetch("/api/create-charactersheet",{method:"POST",headers:{"x-Access-Token":"".concat(a)},body:n});case 7:return r=e.sent,e.next=10,r.json();case 10:"Token is invalid!"==(c=e.sent).status&&(window.location.href="/"),"Success"==c.status||j([c.error]),i(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[l?Object(b.jsx)("ul",{children:l.map((function(e){return Object(b.jsx)("li",{children:e},e)}))}):null,Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{ref:n,type:"file",name:"file"}),Object(b.jsx)("button",{type:"submit",children:" Submit file"}),Object(b.jsx)(q,{addInventoryList:function(e){u.push(e)}})]})]})}var D=n(103),G=n(220);n(185);function B(e){var t=e.setMessage,n=e.sendMessage,a=e.message,r=e.leaveRoom,c=Object(o.h)();c.room,c.code;return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:"chat-form",children:[Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:a,onChange:function(e){var n=e.target.value;return t(n)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),Object(b.jsx)(G.a,{variant:"contained",onClick:function(e){return n(e)},children:"Send"}),Object(b.jsx)(G.a,{variant:"contained",onClick:Object(C.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),children:"Leave Chat"})]})})}n(189);var U,z,Z=function(e){var t=e.border,n=e.color,a=e.children,r=e.height,c=e.onClick,s=e.radius,i=e.width;return Object(b.jsx)("button",{onClick:c,style:{backgroundColor:n,border:t,borderRadius:s,height:r,width:i},children:a})},H="https://saving-throw.herokuapp.com/";function K(e){Object(o.g)();var t=Object(o.h)(),n=t.room,c=t.code,s=Object(a.useState)(""),i=Object(h.a)(s,2),d=i[0],l=i[1],j=Object(a.useState)([]),u=Object(h.a)(j,2),m=u[0],p=u[1],x=Object(a.useState)(!1),O=Object(h.a)(x,2),g=(O[0],O[1],f()),y=r.a.useRef(null),S=m,k=v();Object(a.useEffect)((function(){z=!1,function(){L.apply(this,arguments)}()}),[H]),Object(a.useEffect)((function(){z&&(U.on("close",(function(){window.location.href="/profile/"+g})),U.on("message",(function(e){T(e),"Close Room."===e&&F()})),m&&y.current&&y.current.scrollIntoView({behavior:"smooth"}))}),[]);function T(e){S=S.concat(e),p(S)}function L(){return(L=Object(C.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/check-room",{method:"PUT",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(k)},body:JSON.stringify({room:Number(n),code:c})});case 2:return t=e.sent,e.next=5,t.json();case 5:"Success"==(a=e.sent).status&&(z=!0,(U=Object(D.io)(H)).emit("join",{name:g,room:Number(n)}),U.on("message",(function(e){T(e),"Close Room."===e&&F()}))),"Room does not exist"==a.error&&(window.location.href="/profile/"+g),"Token is invalid!"==a.status&&(w(),window.location.href="/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return P.apply(this,arguments)}function P(){return(P=Object(C.a)(N.a.mark((function e(){var t,a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/leave-room",{method:"PUT",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(k)},body:JSON.stringify({room:Number(n),code:c})});case 2:return t=e.sent,e.next=5,t.json();case 5:if("Token is invalid!"==(a=e.sent).status&&(w(),window.location.href="/"),!a.error){e.next=12;break}U.emit("close",{name:g,room:a.room}),window.location.href="/profile/"+g,e.next=21;break;case 12:if(U.emit("leave",{name:g,room:Number(n),message:a.message}),"Host is leaving"!==a.status&&"Room is empty"!==a.status){e.next=21;break}return U.emit("close",{name:g,room:a.room}),e.next=17,fetch("/api/delete-room",{method:"DELETE",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(k)},body:JSON.stringify({room:Number(n)})});case 17:return r=e.sent,e.next=20,r.json();case 20:e.sent;case 21:window.location.href="/profile/"+g;case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t,a=(t=e,Math.floor(Math.random()*t)+1);U.emit("message",{name:g,room:Number(n),message:"Rolled d"+e+": "+a},(function(){return l("")}))}return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"title",children:"Campaign"}),Object(b.jsxs)("h3",{className:"room",children:["Room: ",n]}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("div",{className:"box-row",children:Object(b.jsx)(Z,{border:"default",color:"#fdffc4",height:"15vh",onClick:function(){_(20)},radius:"10%",width:"30vw",children:"d20"})}),Object(b.jsxs)("div",{className:"box-row",children:[Object(b.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){_(4)},radius:"10%",width:"10vw",children:"d4"}),Object(b.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){_(6)},radius:"10%",width:"10vw",children:"d6"}),Object(b.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){_(8)},radius:"10%",width:"10vw",children:"d8"})]}),Object(b.jsxs)("div",{className:"box-row",children:[Object(b.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){_(10)},radius:"10%",width:"10vw",children:"d10"}),Object(b.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){_(12)},radius:"10%",width:"10vw",children:"d12"}),Object(b.jsx)(Z,{border:"default",color:"#fdffc4",height:"10vh",onClick:function(){_(100)},radius:"10%",width:"10vw",children:"d100"})]})]})}),Object(b.jsxs)("div",{className:"Chat",children:[Object(b.jsx)("div",{className:"fields",ref:y,children:m.map((function(e){return Object(b.jsx)("div",{children:e})}))}),Object(b.jsx)(B,{message:d,setMessage:l,sendMessage:function(e){e.preventDefault(),d&&U.emit("message",{name:g,room:Number(n),message:d},(function(){return l("")}))},leaveRoom:F})]})]})}var V=n(20),W=(n(190),n(221)),Q=n(234),X=n(222),Y=n(199),$=n(224),ee=n(223),te=n(7),ne=n(225),ae=n(226),re=n(227),ce=n(233),se=n(219),ie=n(64),oe=n(74),de=n.n(oe),le=n(229),je=Object(W.a)((function(e){return Object(Q.a)({container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)},root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},cardroot:{maxWidth:"auto",margin:"auto"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ie.a[500]},box:{height:50,display:"flex",padding:8,justifyContent:"flex-end",alignItems:"flex-end"}})}));function ue(e){var t=v(),n=je(),c=r.a.useState(-1),s=Object(h.a)(c,2),i=s[0],d=s[1],l=r.a.useState(-1),j=Object(h.a)(l,2),u=j[0],m=j[1],p=r.a.useState({data:{username:"",uid:0,public_id:0,fname:"",lname:""},rendered:!1}),x=Object(h.a)(p,2),O=x[0],g=x[1],y=r.a.useState([]),S=Object(h.a)(y,2),k=S[0],T=S[1],L=Object(o.h)().username;function F(){return(F=Object(C.a)(N.a.mark((function e(){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{method:"GET",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)}});case 2:return n=e.sent,e.next=5,n.json();case 5:"Token is invalid!"==(a=e.sent).status?(w(),window.location.href="/"):(a.username!=L&&(window.location.href="/profile/"+a.username),g({data:{username:a.username,uid:a.uid,public_id:a.publicId,fname:a.fname,lname:a.lname},rendered:!0}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(C.a)(N.a.mark((function e(){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/getgames",{method:"GET",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)}});case 2:return n=e.sent,e.next=5,n.json();case 5:"Token is invalid!"==(a=e.sent).status&&(w(),window.location.href="/"),"Success"==a.status&&T(a.games);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(C.a)(N.a.mark((function e(n,a){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/create-room",{method:"POST",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)},body:JSON.stringify({rpassword:a,cmid:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:"Success"==(c=e.sent).status&&(window.location.href="/gamePage/room="+c.room+"&code="+c.password),"Token is invalid!"==c.status&&(w(),window.location.href="/");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(C.a)(N.a.mark((function e(n,a){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/delete-room",{method:"DELETE",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(t)},body:JSON.stringify({rpassword:a,cmid:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:c=e.sent,console.log(c),"Token is invalid!"==c.status&&w(),"Success"==c.status&&(window.location.href="/profile/"+f());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){O.rendered||function(){F.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){!function(){P.apply(this,arguments)}()}),[]);return 0==k.length?Object(b.jsxs)("div",{className:n.root,children:[Object(b.jsx)(X.a,{variant:"h4",gutterBottom:!0,children:O.data.fname}),Object(b.jsxs)(ee.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:[Object(b.jsx)(ee.a,{item:!0,xs:4,children:Object(b.jsxs)(Y.a,{className:n.paper,children:["Games",Object(b.jsx)(ee.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(b.jsxs)(ee.a,{item:!0,xs:!0,children:[Object(b.jsx)(X.a,{component:"span",children:"No Games"}),Object(b.jsx)(le.a,{component:"span",m:1,className:n.box,children:Object(b.jsx)(G.a,{variant:"contained",color:"secondary",style:{borderRadius:20},href:"/create-game",children:"Add"})})]})})]})}),Object(b.jsx)(ee.a,{item:!0,xs:4,children:Object(b.jsxs)(Y.a,{className:n.paper,children:["Friends",Object(b.jsx)(ee.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(b.jsxs)(ee.a,{item:!0,xs:!0,children:[Object(b.jsx)(X.a,{component:"span",children:"No Friends"}),Object(b.jsx)(le.a,{component:"span",m:1,className:n.box,children:Object(b.jsx)(G.a,{variant:"contained",color:"secondary",style:{borderRadius:20},children:"Add"})})]})})]})}),Object(b.jsx)(ee.a,{item:!0,xs:4,children:Object(b.jsxs)(ee.a,{container:!0,children:[Object(b.jsx)(ee.a,{item:!0,xs:12,children:Object(b.jsx)(Y.a,{className:n.paper,children:"User Description"})}),Object(b.jsx)(ee.a,{item:!0,xs:12,children:Object(b.jsx)(Y.a,{className:n.paper,children:"Character List"})})]})})]}),Object(b.jsx)($.a,{className:n.divider})]}):Object(b.jsxs)("div",{className:n.root,children:[Object(b.jsx)(X.a,{variant:"h4",gutterBottom:!0,children:O.data.fname}),Object(b.jsxs)(ee.a,{container:!0,spacing:1,justify:"center",alignItems:"center",children:[Object(b.jsx)(ee.a,{item:!0,xs:4,children:Object(b.jsxs)(Y.a,{className:n.paper,children:["Games",Object(b.jsx)(ee.a,{container:!0,wrap:"nowrap",spacing:2,children:Object(b.jsx)(ee.a,{item:!0,xs:!0,children:Object(b.jsxs)(X.a,{component:"span",children:[k.map((function(e,t){return Object(b.jsxs)(ne.a,{className:n.cardroot,children:[e.cname,Object(b.jsx)(ae.a,{}),Object(b.jsx)(re.a,{disableSpacing:!0,children:Object(b.jsx)(se.a,{className:Object(te.a)(n.expand,Object(V.a)({},n.expandOpen,i)),onClick:function(){return function(e){d(i===e?-1:e)}(t)},"aria-expanded":i===t,"aria-label":"show more",children:Object(b.jsx)(de.a,{})})}),Object(b.jsx)(ce.a,{in:i===t,timeout:"auto",unmountOnExit:!0,children:Object(b.jsxs)(ae.a,{children:[Object(b.jsx)(X.a,{paragraph:!0,children:"Description:"}),Object(b.jsx)(X.a,{paragraph:!0,children:e.cdescription}),Object(b.jsx)(X.a,{children:"Entry Code"}),Object(b.jsx)(X.a,{children:e.password}),Object(b.jsxs)(le.a,{component:"span",m:1,className:n.box,children:[Object(b.jsx)(G.a,{variant:"contained",color:"secondary",style:{borderRadius:20},onClick:function(){!function(e,t){_.apply(this,arguments)}(e.cmid,e.password)},children:"Play"}),Object(b.jsx)(G.a,{variant:"contained",color:"secondary",style:{borderRadius:20},onClick:function(){!function(e,t){A.apply(this,arguments)}(e.cmid,e.password)},children:"Delete"})]})]})})]},e.cmid)})),Object(b.jsx)(le.a,{component:"span",m:1,className:n.box,children:Object(b.jsx)(G.a,{variant:"contained",color:"secondary",style:{borderRadius:20},href:"/create-game",children:"Add"})})]})})})]})}),Object(b.jsx)(ee.a,{item:!0,xs:4,children:Object(b.jsxs)(Y.a,{className:n.paper,children:["Friends",[{_id:"1",name:"Carlos"},{_id:"2",name:"Miguel"},{_id:"3",name:"Amanda"}].map((function(e,t){return Object(b.jsxs)(ne.a,{className:n.cardroot,children:[e.name,Object(b.jsx)(ae.a,{}),Object(b.jsx)(re.a,{disableSpacing:!0,children:Object(b.jsx)(se.a,{className:Object(te.a)(n.expand,Object(V.a)({},n.expandOpen,u)),onClick:function(){return function(e){m(u===e?-1:e)}(t)},"aria-expanded":u===t,"aria-label":"show more",children:Object(b.jsx)(de.a,{})})}),Object(b.jsx)(ce.a,{in:u===t,timeout:"auto",unmountOnExit:!0,children:Object(b.jsx)(ae.a,{children:Object(b.jsx)("div",{children:"Description:"})})})]},e._id)})),Object(b.jsx)(le.a,{component:"span",m:1,className:n.box,children:Object(b.jsx)(G.a,{variant:"contained",color:"secondary",style:{borderRadius:20},onClick:function(){alert("clicked")},children:"Add"})})]})}),Object(b.jsx)(ee.a,{item:!0,xs:4,children:Object(b.jsxs)(ee.a,{container:!0,children:[Object(b.jsx)(ee.a,{item:!0,xs:12,children:Object(b.jsx)(Y.a,{className:n.paper,children:"User Description"})}),Object(b.jsx)(ee.a,{item:!0,xs:12,children:Object(b.jsx)(Y.a,{className:n.paper,children:"Character List"})})]})})]}),Object(b.jsx)($.a,{className:n.divider})]})}n(195);function be(e){var t=Object(T.a)({}),n=t.register,r=t.handleSubmit,c=t.errors,s=Object(a.useState)(!1),i=Object(h.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)([]),j=Object(h.a)(l,2),u=j[0],m=j[1],p=v();return Object(b.jsxs)("form",{onSubmit:r(function(){var e=Object(C.a)(N.a.mark((function e(t){var n,a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),m([]),e.next=4,fetch("api/get-character",{method:"GET",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(p)},body:JSON.stringify({room:t.room,password:t.password})});case 4:return n=e.sent,e.next=7,n.json();case 7:if("Token is invalid!"==(a=e.sent).status&&(window.location.href="/"),"Does not exist"==a.status&&(window.location.href="/charactersheet/"+a.cmid),"Character exists"!=a.status){e.next=20;break}return e.next=13,fetch("api/join-room",{method:"PUT",headers:{"Content-Type":"application/json","x-Access-Token":"".concat(p)},body:JSON.stringify({room:t.room,password:t.password})});case 13:return r=e.sent,e.next=16,r.json();case 16:"Success"==(c=e.sent).status?window.location.href="/gamePage/room="+c.room+"&code="+c.password:m([c.error]),e.next=21;break;case 20:m([a.error]);case 21:d(!1);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),children:[u?Object(b.jsx)("ul",{children:u.map((function(e){return Object(b.jsx)("li",{children:e},e)}))}):null,Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"name",children:"Room Number"}),Object(b.jsx)("input",{type:"text",name:"room",id:"room",ref:n({required:"required",minLength:{value:4,message:"Must be 4 character long"},maxLength:{value:4,message:"Must be 4 character long"},validate:function(e){return[/[0-9]/].every((function(t){return t.test(e)}))||"Must contain only numbers"}})}),c.room?Object(b.jsxs)("div",{children:[c.room.message," "]}):null]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",id:"password",ref:n({required:"required",minLength:{value:4,message:"Must be 4 characters long."}})}),c.password?Object(b.jsxs)("div",{children:[c.password.message," "]}):null]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",disabled:o,children:" Join"})})]})}var me=function(){return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(S,{}),Object(b.jsx)(i.a,{children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",component:m}),Object(b.jsx)(o.b,{exact:!0,path:"/create-user",component:F}),Object(b.jsx)(o.b,{exact:!0,path:"/create-game",component:_}),Object(b.jsx)(o.b,{exact:!0,path:"/login",component:A}),Object(b.jsx)(o.b,{exact:!0,path:"/profile/:username",component:ue}),Object(b.jsx)(o.b,{exact:!0,path:"/charactersheet/:cmid",component:R}),Object(b.jsx)(o.b,{exact:!0,path:"/gamePage/room=:room&code=:code",component:K}),Object(b.jsx)(o.b,{exact:!0,path:"/joinGame",component:be}),Object(b.jsx)(o.a,{to:"/"})]})})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,237)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(196);s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(me,{})}),document.getElementById("root")),he()}},[[197,1,2]]]);
//# sourceMappingURL=main.c5e14abc.chunk.js.map